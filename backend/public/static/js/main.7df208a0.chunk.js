(this["webpackJsonpusc-timeline"]=this["webpackJsonpusc-timeline"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var c,r=n(3),a=n.n(r),l=n(20),s=n.n(l),i=(n(66),n(67),n(68),n(69),n(43),n(6)),o=n.n(i),u=n(9),d=n(7),j=(n(71),n(2)),b=function(e){return Object(j.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(j.jsx)("div",{className:"lds-dual-ring"})})},h=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),l=Object(d.a)(a,2),s=l[0],i=l[1],j=Object(r.useRef)([]),b=Object(r.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,l,s,u,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:"GET",r=d.length>2&&void 0!==d[2]?d[2]:null,a=d.length>3&&void 0!==d[3]?d[3]:{},c(!0),l=new AbortController,j.current.push(l),e.prev=6,e.next=9,fetch(t,{method:n,body:r,headers:a,signal:l.signal});case 9:return s=e.sent,e.next=12,s.json();case 12:if(u=e.sent,j.current=j.current.filter((function(e){return e!==l})),s.ok){e.next=16;break}throw new Error(u.message);case 16:return c(!1),e.abrupt("return",u);case 20:throw e.prev=20,e.t0=e.catch(6),i(e.t0.message),c(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.useEffect)((function(){return function(){j.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:s,sendRequest:b,clearError:function(){i(null)}}};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(e,t){var n=e.title,a=e.titleId,l=p(e,["title","titleId"]);return r.createElement("svg",m({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?r.createElement("title",{id:a},n):null,c||(c=r.createElement("g",null,r.createElement("path",{d:"m497 482h-16v-210h16c8.284 0 15-6.716 15-15s-6.716-15-15-15h-136v-90h15c8.284 0 15-6.716 15-15s-6.716-15-15-15h-105v-32h65c11.98 0 19.126-13.352 12.481-23.321l-14.453-21.679 14.453-21.68c6.645-9.968-.501-23.32-12.481-23.32h-80c-8.284 0-15 6.716-15 15v107h-105c-8.284 0-15 6.716-15 15s6.716 15 15 15h15v90h-136c-8.284 0-15 6.716-15 15s6.716 15 15 15h16v210h-16c-8.284 0-15 6.716-15 15s6.716 15 15 15h482c8.284 0 15-6.716 15-15s-6.716-15-15-15zm-226-452h36.972l-4.453 6.679c-3.359 5.039-3.359 11.603 0 16.641l4.453 6.68h-36.972zm180 242v210h-90v-210zm-120-120v330h-30v-45c0-8.284-6.716-15-15-15h-60c-8.284 0-15 6.716-15 15v45h-30v-330zm-60 330h-30v-30h30zm-210-210h90v210h-90z"}),r.createElement("path",{d:"m406 452c8.284 0 15-6.716 15-15v-30c0-8.284-6.716-15-15-15s-15 6.716-15 15v30c0 8.284 6.716 15 15 15z"}),r.createElement("path",{d:"m406 362c8.284 0 15-6.716 15-15v-30c0-8.284-6.716-15-15-15s-15 6.716-15 15v30c0 8.284 6.716 15 15 15z"}),r.createElement("path",{d:"m106 392c-8.284 0-15 6.716-15 15v30c0 8.284 6.716 15 15 15s15-6.716 15-15v-30c0-8.284-6.716-15-15-15z"}),r.createElement("path",{d:"m106 302c-8.284 0-15 6.716-15 15v30c0 8.284 6.716 15 15 15s15-6.716 15-15v-30c0-8.284-6.716-15-15-15z"}),r.createElement("path",{d:"m226 392c8.284 0 15-6.716 15-15v-30c0-8.284-6.716-15-15-15s-15 6.716-15 15v30c0 8.284 6.716 15 15 15z"}),r.createElement("path",{d:"m286 332c-8.284 0-15 6.716-15 15v30c0 8.284 6.716 15 15 15s15-6.716 15-15v-30c0-8.284-6.716-15-15-15z"}),r.createElement("path",{d:"m226 302c8.284 0 15-6.716 15-15v-30c0-8.284-6.716-15-15-15s-15 6.716-15 15v30c0 8.284 6.716 15 15 15z"}),r.createElement("path",{d:"m226 212h60c8.284 0 15-6.716 15-15s-6.716-15-15-15h-60c-8.284 0-15 6.716-15 15s6.716 15 15 15z"}),r.createElement("path",{d:"m286 242c-8.284 0-15 6.716-15 15v30c0 8.284 6.716 15 15 15s15-6.716 15-15v-30c0-8.284-6.716-15-15-15z"}))))}var x,O=r.forwardRef(v);n.p;function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y(e,t){var n=e.title,c=e.titleId,a=g(e,["title","titleId"]);return r.createElement("svg",f({id:"Capa_1",enableBackground:"new 0 0 512.02 512.02",height:512,viewBox:"0 0 512.02 512.02",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,x||(x=r.createElement("g",null,r.createElement("path",{d:"m296.01 40.005c0-22.056-17.944-40-40-40s-40 17.944-40 40 17.944 40 40 40 40-17.944 40-40zm-40 20c-11.028 0-20-8.972-20-20s8.972-20 20-20 20 8.972 20 20-8.972 20-20 20z"}),r.createElement("path",{d:"m9.367 497.711c14.188 16.92 39.399 19.161 56.348 4.937 16.935-14.202 19.154-39.409 4.937-56.348-14.205-16.94-39.409-19.151-56.351-4.935-16.934 14.203-19.149 39.406-4.934 56.346zm17.788-41.024c.001-.001.002-.002.003-.002 8.439-7.083 21.048-6.027 28.171 2.469 7.089 8.446 6.026 21.048-2.468 28.171-8.444 7.087-21.049 6.026-28.171-2.468-7.106-8.467-6.006-21.066 2.465-28.17z"}),r.createElement("path",{d:"m497.718 441.365c-16.971-14.242-42.17-11.976-56.349 4.932-14.212 16.935-12.01 42.142 4.932 56.349 16.936 14.213 42.143 12.009 56.348-4.932 14.212-16.935 12.012-42.139-4.931-56.349zm-10.391 43.495c-7.1 8.468-19.698 9.575-28.171 2.463-8.469-7.102-9.576-19.698-2.463-28.173 7.109-8.479 19.717-9.559 28.168-2.465.001 0 .002.001.003.002 8.468 7.101 9.576 19.698 2.463 28.173z"}),r.createElement("path",{d:"m484.095 308.669c-.093-2.94-1.476-5.69-3.78-7.519-2.305-1.829-5.298-2.549-8.182-1.971l-60.09 12.05c-4.514.905-7.827 4.776-8.024 9.376-.557 13.319-.915 26.908-4.356 39.235l-45.478-39.728c1.212-6.264 1.825-12.667 1.825-19.108 0-40.122-23.809-75.893-60-91.671v-42.78c12.937 4.363 25.009 10.821 36.017 19.28 3.65 2.806 8.745 2.755 12.34-.121l47.85-38.28c2.296-1.837 3.668-4.592 3.749-7.533.081-2.94-1.136-5.767-3.328-7.728-7.006-6.269-14.511-12.108-22.309-17.357-4.583-3.083-10.795-1.869-13.88 2.712-3.084 4.582-1.87 10.796 2.712 13.88 3.762 2.532 7.449 5.217 11.032 8.032l-32.367 25.893c-15.073-10.356-31.724-17.651-49.599-21.719-6.254-1.422-12.219 3.336-12.219 9.751v49.656c-6.544-1.329-13.229-2.016-20-2.016s-13.457.687-20 2.016v-49.656c0-6.412-5.96-11.172-12.219-9.751-17.875 4.068-34.525 11.363-49.599 21.719l-32.367-25.893c32.478-25.508 72.585-39.435 114.185-39.435 8.001 0 16.052.516 23.929 1.532 5.476.704 10.491-3.16 11.198-8.637.708-5.478-3.16-10.491-8.637-11.198-8.723-1.126-17.635-1.697-26.49-1.697-50.509 0-99.031 18.527-136.628 52.168-2.192 1.961-3.409 4.788-3.328 7.728s1.453 5.695 3.749 7.533l47.85 38.28c3.595 2.876 8.689 2.926 12.34.121 11.007-8.459 23.08-14.917 36.017-19.28v42.774c-35.818 15.645-60 51.253-60 91.677 0 6.441.613 12.845 1.825 19.108l-45.477 39.728c-3.428-12.279-3.791-25.728-4.356-39.235-.197-4.6-3.51-8.471-8.024-9.376l-60.09-12.05c-2.885-.579-5.876.142-8.182 1.971-2.304 1.828-3.687 4.579-3.78 7.519-1.746 55.313 12.851 101.808 43.384 138.193 29.955 35.705 71.754 56.98 127.787 65.041 6.095.877 11.566-3.932 11.421-10.132l-1.43-61.27c-.107-4.604-3.345-8.539-7.842-9.532-13.813-3.048-26.38-4.812-37.518-9.822l39.886-34.958c15.719 9.715 33.674 14.815 52.397 14.815 18.729 0 36.69-5.104 52.398-14.814l39.919 34.987c-11.175 5.114-23.783 7.017-37.557 10.063-4.495.995-7.729 4.928-7.837 9.53l-1.43 61c-.132 5.612 4.386 10.234 9.997 10.234.474 0 .95-.033 1.424-.102 56.033-8.061 97.832-29.336 127.786-65.04 30.535-36.385 45.131-82.88 43.386-138.193zm-151.845-31.931c2.486 7.806 3.76 15.946 3.76 24.267 0 6.86-.864 13.657-2.567 20.201-1.465 5.628-3.549 11.052-6.179 16.191-.415-3.251-.921-6.145-1.521-8.69-3.182-13.479-12.44-23.606-20.608-32.541-11.119-12.163-13.104-15.883-10.617-19.906 3.533-5.72 18.737-5.435 37.732.478zm-125.737-38.577c1.983.058 3.948.096 5.866.12 5.335.068 14.192.182 16.332 1.708 1.041 3.063-3.446 8.168-8.965 14.024-6.221 6.601-13.271 14.082-11.728 23.585 1.698 10.514 10.278 14.796 15.405 17.354 1.467.732 3.87 1.931 4.563 2.646-.188 3.419-4.827 12.56-10.987 22.137-9.012-9.789-23.933-24.413-39.689-33.143 3.479-19.077 13.846-36.321 29.203-48.431zm-66.315 177.013c-4.752 4.166-4.499 11.664.552 15.491 14.851 11.254 30.651 14.57 48.527 18.225l.963 41.284c-45.071-8.444-79.042-26.882-103.611-56.167-25.099-29.91-38.132-67.825-38.815-112.839l40.54 8.129c.788 17.29 2.249 34.998 10.981 51.997 2.97 5.782 10.587 7.23 15.474 2.962l49.541-43.278c5.397 12.34 13.257 23.523 23.088 32.793zm115.812-34.169c-37.548 0-68.577-25.753-77.433-59.799-.975-3.746-1.666-7.577-2.086-11.454 17.74 12.812 33.386 32.245 33.58 32.488 4.085 5.122 11.906 4.995 15.827-.246.234-.313 5.797-7.773 11.21-16.729 10.937-18.097 11.438-25.995 10.652-30.863-1.706-10.506-10.283-14.787-15.407-17.344-1.243-.62-3.156-1.575-4.133-2.287 1.2-1.863 4.069-4.907 6.08-7.041 7.621-8.086 19.139-20.308 12.826-35.56-1.811-4.362-4.639-7.331-8.089-9.366 5.539-1.195 11.217-1.8 16.973-1.8 9.169 0 18.14 1.53 26.667 4.548 15.202 5.375 28.224 15.107 37.614 27.777-16.512-2.678-34.215-1.461-42.786 12.417-3.48 5.63-6.472 14.679-.962 25.82 3.196 6.461 8.362 12.111 13.831 18.094 6.842 7.484 13.917 15.224 15.904 23.64 1.002 4.249 2.18 12.494 2.381 27.927-14.503 12.668-32.852 19.778-52.649 19.778zm169.379 53.003c-24.566 29.283-58.542 47.722-103.608 56.166l.961-41.031c.091-.019.182-.038.272-.057 16.226-3.375 33.004-6.864 48.256-18.421 5.038-3.817 5.317-11.314.552-15.491l-47.237-41.401c9.88-9.304 17.695-20.421 23.095-32.787l49.531 43.269c4.886 4.267 12.504 2.821 15.474-2.962 8.732-16.999 10.193-34.708 10.981-51.997l40.54-8.129c-.684 45.015-13.717 82.93-38.817 112.841z"}),r.createElement("circle",{cx:325.01,cy:102.005,r:10}))))}var w,E,N,S,k,C,I,T,D,V,L,U,P,z,R,B,A,F,_,q,M,H,G,W,J,Y,X,K,Q,$,Z,ee,te=r.forwardRef(y);n.p;function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function re(e,t){var n=e.title,c=e.titleId,a=ce(e,["title","titleId"]);return r.createElement("svg",ne({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 464 464",style:{enableBackground:"new 0 0 464 464"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,w||(w=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M440,1.5H24c-13.255,0-24,10.745-24,24s10.745,24,24,24v328c0,4.418,3.582,8,8,8h95.352l-53.6,67l12.496,10l61.6-77H224 v17.472c-12.497,4.418-19.046,18.131-14.627,30.627c4.418,12.497,18.131,19.046,30.627,14.627s19.046-18.131,14.627-30.627 c-2.416-6.835-7.793-12.211-14.627-14.627V385.5h76.152l61.6,77l12.496-10l-53.6-67H432c4.418,0,8-3.582,8-8v-328 c13.255,0,24-10.745,24-24S453.255,1.5,440,1.5z M232,433.5c-4.418,0-8-3.582-8-8s3.582-8,8-8s8,3.582,8,8 S236.418,433.5,232,433.5z M424,369.5H40v-320h384V369.5z M440,33.5H24c-4.418,0-8-3.582-8-8s3.582-8,8-8h416c4.418,0,8,3.582,8,8 S444.418,33.5,440,33.5z"})))),E||(E=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:72,y:257.5,width:128,height:16})))),N||(N=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:72,y:289.5,width:128,height:16})))),S||(S=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:72,y:321.5,width:96,height:16})))),k||(k=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:136,y:225.5,width:64,height:16})))),C||(C=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:264,y:113.5,width:128,height:16})))),I||(I=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:264,y:145.5,width:128,height:16})))),T||(T=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:264,y:177.5,width:96,height:16})))),D||(D=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:328,y:81.5,width:64,height:16})))),V||(V=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M136,73.5c-35.346,0-64,28.654-64,64c0.04,35.33,28.67,63.96,64,64c35.346,0,64-28.654,64-64 C200,102.154,171.346,73.5,136,73.5z M144.24,90.268c12.218,2.138,23.131,8.929,30.448,18.944L144,124.54L144.24,90.268z  M108.337,98.354c5.946-4.193,12.769-6.974,19.951-8.135L128,134.3l-31.2,30.776C81.561,143.465,86.726,113.593,108.337,98.354z  M149.994,183.411c-4.536,1.384-9.251,2.088-13.994,2.089c-10.059,0.001-19.86-3.18-28-9.088l32.864-32.4l41.032-20.52 C189.632,148.848,175.349,175.674,149.994,183.411z"})))),L||(L=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:248,y:297.5,width:16,height:40})))),U||(U=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:376,y:281.5,width:16,height:56})))),P||(P=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:280,y:273.5,width:16,height:64})))),z||(z=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:312,y:241.5,width:16,height:96})))),R||(R=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:344,y:265.5,width:16,height:72})))),B||(B=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:104,y:225.5,width:16,height:16})))),A||(A=r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:296,y:81.5,width:16,height:16})))),F||(F=r.createElement("g",null)),_||(_=r.createElement("g",null)),q||(q=r.createElement("g",null)),M||(M=r.createElement("g",null)),H||(H=r.createElement("g",null)),G||(G=r.createElement("g",null)),W||(W=r.createElement("g",null)),J||(J=r.createElement("g",null)),Y||(Y=r.createElement("g",null)),X||(X=r.createElement("g",null)),K||(K=r.createElement("g",null)),Q||(Q=r.createElement("g",null)),$||($=r.createElement("g",null)),Z||(Z=r.createElement("g",null)),ee||(ee=r.createElement("g",null)))}var ae,le=r.forwardRef(re),se=(n.p,n(12)),ie=(n(73),function(e){return e.href?Object(j.jsx)("a",{className:"event-button event-button--".concat(e.size||"default"," ").concat(e.inverse&&"event-button--inverse"," ").concat(e.danger&&"event-button--danger"),href:e.href,children:e.children}):e.to?Object(j.jsx)(se.b,{to:e.to,exact:e.exact,className:"event-button event-button--".concat(e.size||"default"," ").concat(e.inverse&&"event-button--inverse"," ").concat(e.danger&&"event-button--danger"," ").concat(e.create&&"event-button--create"),children:e.children}):Object(j.jsx)("button",{className:"event-button button--".concat(e.size||"default"," ").concat(e.inverse&&"event-button--inverse"," ").concat(e.danger&&"event-button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}),oe=function(e){var t=e.children,n=Object(r.useState)(!0),c=Object(d.a)(n,2),a=c[0],l=c[1];return Object(j.jsxs)(j.Fragment,{children:[a?t.slice(0,250):t,Object(j.jsx)("a",{onClick:function(){l(!a)},className:"read-or-hide",children:t.length>250?Object(j.jsx)("span",{children:a?Object(j.jsxs)("span",{children:["... ",Object(j.jsx)("span",{className:"read-more",children:"[Read More]"})]}):Object(j.jsx)("p",{className:"show-less",children:" show less "})}):""})]})},ue=n(23),de=(n(46),function(e){var t=h(),n=t.isLoading,c=t.sendRequest,a=Object(r.useState)(),l=Object(d.a)(a,2),s=l[0],i=l[1];return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("https://mern-usc-timeline.herokuapp.com/api/events");case 3:t=e.sent,i(t.events),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[c]),Object(j.jsxs)(j.Fragment,{children:[n&&Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(b,{})}),!n&&s&&Object(j.jsx)(ue.VerticalTimeline,{children:s.map((function(t){var n=""!==t.url&&void 0!==t.url&&null!==t.url,c=function(t){return"USC"===t.category?[e.schoolIconStyles,Object(j.jsx)(O,{}),"schoolButton"]:"Culture"===t.category?[e.cultureIconStyles,Object(j.jsx)(te,{}),"cultureButton"]:[e.statsIconStyles,Object(j.jsx)(le,{}),"statsButton"]},r=new Date(t.date.replace(/-/g,"/").replace(/T.+/,"")),a=r.toLocaleString("en-US",{month:"long"})+" "+r.toLocaleString("en-US",{day:"2-digit"})+", "+r.getFullYear();return Object(j.jsxs)(ue.VerticalTimelineElement,{date:a,dateClassName:"date",iconStyle:c(t)[0],icon:c(t)[1],children:[Object(j.jsx)("h3",{className:"vertical-timeline-element-title",style:{"font-weight":"bold"},children:t.title}),Object(j.jsx)("small",{children:Object(j.jsx)("h6",{className:"vertical-timeline-element-subtitle",children:t.category})}),t.image&&Object(j.jsx)("img",{src:"".concat(t.image),alt:"thumbnail",style:{height:200,float:"right",marginBottom:10,clear:"both"},className:"rounded"}),Object(j.jsx)("p",{id:"description",children:Object(j.jsx)(oe,{children:t.description})}),n&&Object(j.jsx)("a",{className:"button ".concat(c(t)[2]),target:"_blank",href:t.url,children:"Learn More"})]},t.key)}))})]})}),je=(n(81),function(e){return Object(j.jsxs)("div",{className:"badge-container",children:[Object(j.jsx)("div",{className:"badge",style:e.inheritStyle,children:e.children}),Object(j.jsx)("h5",{classsName:"badge-name",children:e.name})]})}),be=function(){return Object(j.jsxs)("div",{style:{textAlign:"center",margin:40},children:[Object(j.jsx)("h5",{children:"Categories"}),Object(j.jsxs)("div",{className:"badge-row",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(j.jsx)(je,{name:"USC",inheritStyle:{background:"#c7b0e8"},children:Object(j.jsx)(O,{style:{height:40,width:40}})}),Object(j.jsx)(je,{name:"Culture",inheritStyle:{background:"#e7c7b0"},children:Object(j.jsx)(te,{style:{height:40,width:40}})}),Object(j.jsx)(je,{name:"Statistics",inheritStyle:{background:"#b0e7c7"},children:Object(j.jsx)(le,{style:{height:40,width:40}})})]})]})},he=(n(82),function(e){return Object(j.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}),me=Object(r.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}}),pe=(n(83),function(e){var t=Object(r.useContext)(me),n=h(),c=n.isLoading,a=n.sendRequest,l=new Date(e.date.replace(/-/g,"/").replace(/T.+/,"")),s=l.toLocaleString("en-US",{month:"2-digit"}),i=l.toLocaleString("en-US",{day:"2-digit"}),d=l.getFullYear()+"-"+s+"-"+i,m=function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a("".concat("https://mern-usc-timeline.herokuapp.com/api","/events/").concat(e.id),"DELETE",null,{Authorization:"Bearer "+t.token});case 3:e.onDelete(e.id),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return Object(j.jsx)("li",{className:"event-item",children:Object(j.jsxs)(he,{children:[c&&Object(j.jsx)(b,{asOverlay:!0}),Object(j.jsxs)("div",{className:"event-item__info",children:[Object(j.jsxs)("h3",{style:{fontWeight:"bold"},children:[e.index,". ",e.title]}),Object(j.jsx)("h5",{children:d}),Object(j.jsx)("p",{children:e.description}),e.image&&Object(j.jsx)("img",{src:"".concat(e.image),alt:"thumbnail",style:{height:300,marginBottom:10},className:"img-thumbnail"}),Object(j.jsx)("small",{children:Object(j.jsxs)("p",{children:["EID: ",e.id," "]})})]}),Object(j.jsxs)("div",{className:"event-item__actions",children:[Object(j.jsx)(ie,{to:"/events/".concat(e.id),children:"EDIT"}),Object(j.jsx)(ie,{danger:!0,onClick:m,children:"DELETE"})]})]})})}),ve=(n(84),function(e){return 0===e.items.length?Object(j.jsx)("div",{className:"event-list center",children:Object(j.jsxs)(he,{children:[Object(j.jsx)("h2",{children:"No events found. Maybe create one?"}),Object(j.jsx)(ie,{to:"/events/new",children:"Add Event"})]})}):Object(j.jsx)("ul",{className:"event-list",children:e.items.map((function(t,n){return Object(j.jsx)(pe,{id:t.id,title:t.title,date:t.date,description:t.description,image:t.image,url:t.url,category:t.category,index:n+1,onDelete:e.onDeleteEvent},t.id)}))})}),xe=(n(85),function(){var e=h(),t=e.isLoading,n=e.sendRequest,c=Object(r.useState)(),l=Object(d.a)(c,2),s=l[0],i=l[1];Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("https://mern-usc-timeline.herokuapp.com/api/events/");case 3:t=e.sent,i(t.events),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]);return Object(j.jsxs)(a.a.Fragment,{children:[t&&Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(b,{})}),!t&&s&&Object(j.jsx)(ve,{items:s,onDeleteEvent:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))}})]})}),Oe=n(21),fe=n(14),ge=[{value:"dates",label:"Dates"},{value:"text",label:"Text"}],ye=function(){var e={background:"#c7b0e8"},t={background:"#e7c7b0"},n={background:"#b0e7c7"},c=Object(r.useState)({to:"",from:"",category:""}),a=Object(d.a)(c,2),l=a[0],s=a[1],i=Object(r.useState)({query:""}),m=Object(d.a)(i,2),p=m[0],v=m[1],x=Object(r.useState)(!0),f=Object(d.a)(x,2),g=f[0],y=f[1],w=Object(r.useRef)(),E=h(),N=E.isLoading,S=E.sendRequest,k=Object(r.useState)(),C=Object(d.a)(k,2),I=C[0],T=C[1],D=Object(r.useState)(!0),V=Object(d.a)(D,2),L=V[0],U=V[1];function P(e){var t=e.target.value;s(Object(fe.a)(Object(fe.a)({},l),{},Object(Oe.a)({},e.target.name,t)))}Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S("https://mern-usc-timeline.herokuapp.com/api/events");case 3:t=e.sent,T(t.events),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[s,S]);var z=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://mern-usc-timeline.herokuapp.com/api/events");case 2:t=e.sent,T(t.events),s({from:"",to:"",category:""}),v({query:""}),U(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(e){return e.date>=l.from&&e.date<=l.to&&e.category===l.category},n=function(e){return e.date>=l.from&&e.date<=l.to},t.preventDefault();try{l.from&&l.to&&l.category?(T(I.filter(c)),U(!1)):"None"===l.category||""===l.category&&l.from&&l.to?(T(I.filter(n)),U(!1)):(alert("Please enter a valid date range!"),T(I))}catch(r){}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S("https://mern-usc-timeline.herokuapp.com/api/events/search","POST",JSON.stringify({search_query:p.query}),{"Content-Type":"application/json"});case 3:n=e.sent,T(n.events);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"search-title",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(he,{style:{width:1e3},children:Object(j.jsx)("h3",{style:{fontWeight:"bold"},className:"title",children:"Search Events"})})}),Object(j.jsxs)("div",{className:"form-wrapper",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:20,alignItems:"center",justifyContent:"center"},children:[Object(j.jsxs)("div",{className:"search-type",children:[Object(j.jsx)("label",{className:"grey-text",htmlFor:"search-select",children:"Search By:"}),Object(j.jsx)("select",{id:"search-select",name:"search-select",ref:w,onChange:function(){"text"===w.current.value?y(!1):y(!0)},style:{marginBottom:22},className:"browser-default custom-select",children:ge.map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.label})}))})]}),g&&!p.query?Object(j.jsx)("div",{id:"dates-form",children:Object(j.jsxs)("form",{id:"date-search-form",className:"form-group",onSubmit:R,children:[Object(j.jsxs)("div",{className:"inputs-group",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:20,alignItems:"center",justifyContent:"center",marginTop:50},children:[Object(j.jsxs)("div",{className:"from",children:[Object(j.jsx)("label",{className:"grey-text",htmlFor:"from",children:"From"}),Object(j.jsx)("input",{id:"from",type:"date",name:"from",value:l.from,onChange:P,style:{marginTop:0},className:"form-control"})]}),Object(j.jsxs)("div",{className:"to",children:[Object(j.jsx)("label",{className:"grey-text",htmlFor:"to",children:"To"}),Object(j.jsx)("input",{id:"to",type:"date",name:"to",value:l.to,onChange:P,style:{marginTop:0},className:"form-control"})]}),Object(j.jsxs)("div",{className:"category",children:[Object(j.jsx)("label",{className:"grey-text",htmlFor:"category",children:"Category"}),Object(j.jsxs)("select",{id:"category",name:"category",value:l.category,onChange:P,style:{marginBottom:16},className:"browser-default custom-select",children:[Object(j.jsx)("option",{value:"None",children:"None"}),Object(j.jsx)("option",{value:"USC",children:"USC"}),Object(j.jsx)("option",{value:"Culture",children:"Culture"}),Object(j.jsx)("option",{value:"Statistics",children:"Statistics"})]})]})]}),Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(j.jsx)(ie,{disabled:!L,type:"submit",children:"SEARCH"}),Object(j.jsx)(ie,{className:"event-button",disabled:L,style:{color:"white"},onClick:z,children:"RESET"})]})]})}):Object(j.jsx)("div",{id:"text-form",children:Object(j.jsx)("form",{id:"query-form",className:"form-group",onSubmit:B,children:Object(j.jsxs)("div",{className:"inputs-group",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:20,alignItems:"center",justifyContent:"center",marginTop:50},children:[Object(j.jsxs)("div",{className:"text-search",children:[Object(j.jsx)("label",{className:"grey-text",htmlFor:"search_query",children:"Search Query"}),Object(j.jsx)("input",{id:"search_query",type:"text",name:"search_query",placeholder:"Search...",value:p.query,onChange:function(e){var t=e.target.value;v(Object(fe.a)(Object(fe.a)({},p),{},{query:t}))},style:{marginBottom:55,marginTop:0,width:300},className:"form-control"})]}),Object(j.jsxs)("div",{style:{marginBottom:25},children:[Object(j.jsx)(ie,{type:"submit",children:"SEARCH"}),Object(j.jsx)(ie,{className:"event-button",danger:!0,disabled:!p.query,style:{color:"white"},onClick:z,children:"RESET"})]})]})})})]}),Object(j.jsxs)("div",{className:"search-results",children:[Object(j.jsx)(be,{}),N&&Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(b,{})}),!N&&I&&Object(j.jsx)(ue.VerticalTimeline,{children:I.map((function(c){var r=""!==c.url&&void 0!==c.url&&null!==c.url,a=function(c){return"USC"===c.category?[e,Object(j.jsx)(O,{}),"schoolButton"]:"Culture"===c.category?[t,Object(j.jsx)(te,{}),"cultureButton"]:[n,Object(j.jsx)(le,{}),"statsButton"]},l=new Date(c.date.replace(/-/g,"/").replace(/T.+/,"")),s=l.toLocaleString("en-US",{month:"long"})+" "+l.toLocaleString("en-US",{day:"2-digit"})+", "+l.getFullYear();return Object(j.jsxs)(ue.VerticalTimelineElement,{date:s,dateClassName:"date",iconStyle:a(c)[0],icon:a(c)[1],children:[Object(j.jsx)("h3",{className:"vertical-timeline-element-title",style:{"font-weight":"bold"},children:c.title}),Object(j.jsx)("small",{children:Object(j.jsx)("h6",{className:"vertical-timeline-element-subtitle",children:c.category})}),c.image&&Object(j.jsx)("img",{src:"".concat(c.image),alt:"thumbnail",style:{height:200,float:"right",marginBottom:10,clear:"both"},className:"rounded"}),Object(j.jsx)("p",{id:"description",children:Object(j.jsx)(oe,{children:c.description})}),r&&Object(j.jsx)("a",{className:"button ".concat(a(c)[2]),href:c.url,children:"Learn More"})]},c.key)}))})]})]})},we=n(11),Ee=n(29),Ne=(n(47),n(59)),Se="REQUIRE",ke="MINLENGTH",Ce="MAXLENGTH",Ie="EMAIL",Te=function(){return{type:Se}},De=function(e,t){var n,c=!0,r=Object(Ne.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.type===Se&&(c=c&&e.trim().length>0),a.type===ke&&(c=c&&e.trim().length>=a.val),a.type===Ce&&(c=c&&e.trim().length<=a.val),"MIN"===a.type&&(c=c&&+e>=a.val),"MAX"===a.type&&(c=c&&+e<=a.val),a.type===Ie&&(c=c&&/^\S+@\S+\.\S+$/.test(e))}}catch(l){r.e(l)}finally{r.f()}return c},Ve=(n(86),function(e,t){switch(t.type){case"CHANGE":return Object(fe.a)(Object(fe.a)({},e),{},{value:t.val,isValid:De(t.val,t.validators)});case"TOUCH":return Object(fe.a)(Object(fe.a)({},e),{},{isTouched:!0});default:return e}}),Le=function(e){var t=Object(r.useReducer)(Ve,{value:e.value||"",isTouched:!1,isValid:e.valid||!1}),n=Object(d.a)(t,2),c=n[0],a=n[1],l=e.id,s=e.onInput,i=c.value,o=c.isValid;Object(r.useEffect)((function(){s(l,i,o)}),[l,i,o,s]);var u=function(t){a({type:"CHANGE",val:t.target.value,validators:e.validators})},b=function(){a({type:"TOUCH"})};return Object(j.jsxs)("div",{className:" ".concat(!c.isValid&&c.isTouched&&"form-control--invalid"),children:[Object(j.jsx)("label",{className:"grey-text",htmlFor:e.id,children:e.label}),"input"===e.element?Object(j.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:u,onBlur:b,value:c.value,style:{marginTop:0},className:"form-control"}):"select"===e.element?Object(j.jsx)("select",{id:e.id,name:e.name,onChange:u,onBlur:b,value:c.value,style:{marginBottom:16},className:"browser-default custom-select",children:e.options.map((function(e){return Object(j.jsx)("option",{value:e,children:e})}))}):Object(j.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:u,onBlur:b,value:c.value,style:{marginTop:0},className:"form-control"}),!c.isValid&&c.isTouched&&Object(j.jsx)("p",{children:e.errorText})]})},Ue=(n(87),function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),c=n[0],a=n[1],l=Object(r.useState)(),s=Object(d.a)(l,2),i=s[0],b=s[1],m=Object(r.useState)(e.preview),p=Object(d.a)(m,2),v=p[0],x=p[1],O=Object(r.useState)(!1),f=Object(d.a)(O,2),g=f[0],y=f[1],w=Object(r.useContext)(me),E=h(),N=(E.isLoading,E.sendRequest),S=Object(r.useRef)();Object(r.useEffect)((function(){if(c){var e=new FileReader;e.onload=function(){b(e.result)},e.readAsDataURL(c)}}),[c]);var k=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N("".concat("https://mern-usc-timeline.herokuapp.com/api","/events/image/").concat(e.eventId),"PATCH",null,{Authorization:"Bearer "+w.token});case 3:x(null),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"image-picker",children:[Object(j.jsx)("input",{id:e.id,ref:S,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var n,c=g;t.target.files&&1===t.target.files.length?(n=t.target.files[0],a(n),y(!0),c=!0):(y(!1),c=!1),e.onInput(e.id,n,c)},className:"form-control"}),Object(j.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(j.jsxs)("div",{className:"image-upload__preview",children:[v&&!i?Object(j.jsx)("img",{src:v,alt:"Preview"}):i&&Object(j.jsx)("img",{src:i,alt:"Preview"}),!i&&!v&&Object(j.jsx)("p",{children:"Please pick an image."})]}),Object(j.jsx)(ie,{type:"button",onClick:function(){S.current.click()},children:"PICK IMAGE"}),v&&!i&&Object(j.jsx)(ie,{danger:!0,type:"button",onClick:k,children:"X"})]}),!g&&Object(j.jsx)("p",{children:e.errorText})]})}),Pe=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var c in e.inputs)n=c===t.inputId?n&&t.isValid:n&&e.inputs[c].isValid;return Object(fe.a)(Object(fe.a)({},e),{},{inputs:Object(fe.a)(Object(fe.a)({},e.inputs),{},Object(Oe.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},ze=function(e,t){var n=Object(r.useReducer)(Pe,{inputs:e,isValid:t}),c=Object(d.a)(n,2),a=c[0],l=c[1];return[a,Object(r.useCallback)((function(e,t,n){l({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),Object(r.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]},Re=[{value:"USC",label:"USC"},{value:"Culture",label:"Culture"},{value:"Statistics",label:"Statistics"}],Be=function(){var e,t=Object(r.useContext)(me),n=h(),c=n.isLoading,a=n.sendRequest,l=ze({title:{value:"",isValid:!1},date:{value:"",isValid:!1},category:{value:"",isValid:!1},description:{value:"",isValid:!1},image:{value:null,isValid:!1},url:{value:"",isValid:!1}},!1),s=Object(d.a)(l,2),i=s[0],m=s[1],p=Object(we.g)(),v=function(){var e=Object(u.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!i.inputs.category.value){e.next=19;break}return e.prev=2,(c=new FormData).append("title",i.inputs.title.value),c.append("date",i.inputs.date.value),c.append("category",i.inputs.category.value),c.append("description",i.inputs.description.value),c.append("image",i.inputs.image.value),c.append("url",i.inputs.url.value),e.next=12,a("https://mern-usc-timeline.herokuapp.com/api/events/new","POST",c,{Authorization:"Bearer "+t.token});case 12:p.push("/events"),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:e.next=20;break;case 19:alert("Please select a category!");case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),x=Object(r.useState)({selectedOption:null}),O=Object(d.a)(x,2),f=(O[0],O[1]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{className:"form-group event-form",onSubmit:v,children:[c&&Object(j.jsx)(b,{asOverlay:!0}),Object(j.jsx)(Le,{id:"title",element:"input",type:"text",name:"title",label:"Title",validators:[Te()],errorText:"Please enter valid title.",onInput:m}),Object(j.jsx)(Le,{type:"date",element:"input",id:"date",label:"Date",name:"date",validators:[Te()],errorText:"Please enter valid date.",onInput:m}),Object(j.jsx)("label",{className:"grey-text",htmlFor:"category",children:"Category"}),Object(j.jsx)(Ee.a,{id:"category",name:"category",options:Re,errorText:"Please enter valid category.",style:{marginBottom:16},onChange:function(e){f({selectedOption:e}),i.inputs.category.value=e.value}}),Object(j.jsx)("br",{}),Object(j.jsx)(Le,{id:"description",name:"description",element:"textarea",label:"Description",validators:[(e=5,{type:ke,val:e})],errorText:"Please enter valid description.",onInput:m}),Object(j.jsx)(Ue,{id:"image",onInput:m,errorText:""}),Object(j.jsx)(Le,{id:"url",name:"url",element:"input",type:"text",label:"URL",validators:[Te()],errorText:"Please enter valid URL.",onInput:m,valid:i.inputs.url.isValid}),Object(j.jsx)(ie,{type:"submit",children:"ADD EVENT"})]})})},Ae=[{value:"USC",label:"USC"},{value:"Culture",label:"Culture"},{value:"Statistics",label:"Statistics"}],Fe=function(){var e=Object(r.useContext)(me),t=h(),n=t.isLoading,c=t.error,a=t.sendRequest,l=(t.clearError,Object(r.useState)()),s=Object(d.a)(l,2),i=s[0],m=s[1],p=Object(we.h)().eventId,v=Object(we.g)(),x=ze({title:{value:"",isValid:!1},date:{value:"",isValid:!1},category:{value:"",isValid:!1},description:{value:"",isValid:!1},image:{value:null,isValid:!1},url:{value:"",isValid:!1}},!1),O=Object(d.a)(x,3),f=O[0],g=O[1],y=O[2];Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("".concat("https://mern-usc-timeline.herokuapp.com/api","/events/").concat(p));case 3:t=e.sent,m(t.event),y({title:{value:t.event.title,isValid:!0},date:{value:t.event.date,isValid:!0},category:{value:t.event.category,isValid:!0},description:{value:t.event.description,isValid:!0},image:{value:t.event.image,isValid:!0},url:{value:t.event.url,isValid:!0}},!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[a,p,y]);var w,E=Object(r.useState)({selectedOption:null}),N=Object(d.a)(E,2),S=(N[0],N[1]),k=function(){var t=Object(u.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!f.inputs.category.value){t.next=19;break}return(c=new FormData).append("title",f.inputs.title.value),c.append("date",f.inputs.date.value),c.append("category",f.inputs.category.value),c.append("description",f.inputs.description.value),c.append("image",f.inputs.image.value),c.append("url",f.inputs.url.value),t.prev=9,t.next=12,a("".concat("https://mern-usc-timeline.herokuapp.com/api","/events/").concat(p),"PATCH",c,{Authorization:"Bearer "+e.token});case 12:v.push("/events"),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(9);case 17:t.next=20;break;case 19:alert("Please select a valid category!");case 20:case"end":return t.stop()}}),t,null,[[9,15]])})));return function(e){return t.apply(this,arguments)}}();if(n)return Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(b,{})});if(!i&&!c)return Object(j.jsx)("div",{className:"center",children:Object(j.jsx)("h2",{children:"Could not find event!"})});if(i.date){var C=new Date(i.date.replace(/-/g,"/").replace(/T.+/,"")),I=C.toLocaleString("en-US",{month:"2-digit"}),T=C.toLocaleString("en-US",{day:"2-digit"});w=C.getFullYear()+"-"+I+"-"+T}return Object(j.jsx)(j.Fragment,{children:!n&&i&&Object(j.jsxs)("form",{className:"event-form",onSubmit:k,children:[Object(j.jsx)(Le,{id:"title",element:"input",type:"text",label:"Title",validators:[Te()],errorText:"Please enter a valid title.",onInput:g,value:i.title,valid:!0}),Object(j.jsx)(Le,{element:"input",id:"date",label:"Date",name:"date",type:"text",validators:[Te()],errorText:"Please enter a valid date.",onInput:g,value:w,valid:!0}),Object(j.jsx)("label",{className:"grey-text",htmlFor:"category",children:"Category"}),Object(j.jsx)(Ee.a,{id:"category",name:"category",options:Ae,defaultValue:Ae[Ae.findIndex((function(e){return e.value===i.category}))],onChange:function(e){S({selectedOption:e}),f.inputs.category.value=e.value}}),Object(j.jsx)("br",{}),Object(j.jsx)(Le,{id:"description",type:"text",label:"Description",validators:[Te()],errorText:"Please enter a valid description.",onInput:g,value:i.description,valid:!0}),Object(j.jsx)(Ue,{id:"image",onInput:g,preview:i.image,errorText:"",eventId:p}),Object(j.jsx)(Le,{id:"url",element:"input",type:"text",label:"URL",style:{marginTop:100},validators:[],errorText:"Please enter a valid URL.",onInput:g,value:i.url,valid:!0}),Object(j.jsx)(ie,{type:"submit",children:"UPDATE EVENT"})]})})},_e=(n(49),function(){var e=Object(r.useContext)(me),t=h(),n=t.isLoading,c=t.sendRequest,a=ze({username:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),l=Object(d.a)(a,2),s=l[0],i=l[1],m=function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,c("https://mern-usc-timeline.herokuapp.com/api/users/signin","POST",JSON.stringify({username:s.inputs.username.value,password:s.inputs.password.value}),{"Content-Type":"application/json"});case 4:r=t.sent,e.login(r.userId,r.token),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(he,{className:"authentication",children:[n&&Object(j.jsx)(b,{asOverlay:!0}),Object(j.jsx)("h2",{children:"Sign In"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{onSubmit:m,children:[Object(j.jsx)(Le,{element:"input",id:"username",type:"text",label:"Username",validators:[Te()],errorText:"Please enter valid username",className:"form-control",onInput:i}),Object(j.jsx)(Le,{element:"input",id:"password",type:"password",label:"Password",validators:[Te()],errorText:"Please enter valid password",className:"form-control",onInput:i}),Object(j.jsx)(ie,{type:"submit",children:"SIGN IN"})]})]})}),qe=(n(96),function(e){var t=Object(r.useContext)(me),n=h().sendRequest,c=Object(r.useRef)(),a=function(){var c=Object(u.a)(o.a.mark((function c(r){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,n("".concat("https://mern-usc-timeline.herokuapp.com/api","/users/").concat(r),"DELETE",null,{Authorization:"Bearer "+t.token});case 3:e.onDeleteUser(r),c.next=8;break;case 6:c.prev=6,c.t0=c.catch(0);case 8:case"end":return c.stop()}}),c,null,[[0,6]])})));return function(e){return c.apply(this,arguments)}}();return 0===e.items.length?Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(he,{children:Object(j.jsx)("h2",{children:"No users found."})})}):Object(j.jsx)(he,{className:"users-card",children:Object(j.jsxs)("table",{className:"users-list",children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"USERS"}),Object(j.jsx)("th",{children:Object(j.jsxs)(ie,{create:!0,to:"/users/new",children:[Object(j.jsx)("i",{class:"fas fa-plus",style:{paddingRight:10}})," ADD USER"]})})]}),e.items.map((function(e,t){return Object(j.jsxs)("tr",{className:"user-item",children:[Object(j.jsxs)("td",{children:[Object(j.jsx)("p",{children:e.username}),Object(j.jsxs)("small",{children:["UID:"," ",Object(j.jsx)("span",{ref:c,id:"user-".concat(t),children:e.id})]})]}),Object(j.jsx)("td",{children:"60a5430a404e9f49781467ef"!==e.id?Object(j.jsx)(ie,{danger:!0,onClick:function(){return a(e.id)},children:"DELETE"}):Object(j.jsx)(ie,{danger:!0,disabled:!0,children:"DELETE"})})]})}))]})})}),Me=function(){var e=h(),t=e.isLoading,n=e.sendRequest,c=Object(r.useState)(),l=Object(d.a)(c,2),s=l[0],i=l[1];Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("https://mern-usc-timeline.herokuapp.com/api/users");case 3:t=e.sent,i(t.users),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]);return Object(j.jsxs)(a.a.Fragment,{children:[t&&Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(b,{})}),!t&&s&&Object(j.jsx)(qe,{items:s,onDeleteUser:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))}})]})},He=function(){var e=Object(r.useContext)(me),t=h(),n=t.isLoading,c=t.sendRequest,a=ze({username:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),l=Object(d.a)(a,2),s=l[0],i=l[1],m=Object(we.g)(),p=function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,c("https://mern-usc-timeline.herokuapp.com/api/users/signup","POST",JSON.stringify({username:s.inputs.username.value,password:s.inputs.password.value}),{"Content-Type":"application/json"});case 4:r=t.sent,e.login(r.userId,r.token),m.push("/users"),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(he,{className:"authentication",children:[n&&Object(j.jsx)(b,{asOverlay:!0}),Object(j.jsx)("h2",{children:"Create New User"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{onSubmit:p,children:[Object(j.jsx)(Le,{element:"input",id:"username",type:"text",label:"Username",validators:[Te()],errorText:"Please enter valid username",className:"form-control",onInput:i}),Object(j.jsx)(Le,{element:"input",id:"password",type:"password",label:"Password",validators:[Te()],errorText:"Please enter valid password",className:"form-control",onInput:i}),Object(j.jsxs)("p",{children:[Object(j.jsx)("input",{type:"checkbox",onClick:function(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password",console.log(e.type)}})," Show Password"]}),Object(j.jsx)(ie,{type:"submit",children:"ADD USER"})]})]})},Ge=n(19),We=function(){return Object(j.jsxs)(Ge.e,{color:"mdb-color",className:"font-small pt-4 mt-4",children:[Object(j.jsx)(Ge.d,{fluid:!0,className:"text-center text-md-left",children:Object(j.jsxs)(Ge.j,{children:[Object(j.jsx)(Ge.c,{md:"6",children:Object(j.jsxs)("p",{children:[Object(j.jsx)("big",{style:{fontWeight:"bold"},children:"USC Main Office"}),Object(j.jsx)("br",{}),"Room 340, UCC Building",Object(j.jsx)("br",{})," Western University",Object(j.jsx)("br",{})," London, ON. N6A 3K7"]})}),Object(j.jsx)(Ge.c,{md:"6",children:Object(j.jsxs)("div",{className:"mb-5 flex-center",children:[Object(j.jsx)("a",{href:"https://www.facebook.com/westernusc",className:"fb-ic",children:Object(j.jsx)("i",{className:"fab fa-facebook-f fa-lg white-text mr-md-5 mr-3 fa-2x"})}),Object(j.jsx)("a",{href:"https://www.twitter.com/WesternUSC",className:"tw-ic",children:Object(j.jsx)("i",{className:"fab fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x"})}),Object(j.jsx)("a",{href:"https://www.linkedin.com/company/university-students%27%E2%80%8B-council-at-the-university-of-western-ontario",className:"li-ic",children:Object(j.jsx)("i",{className:"fab fa-linkedin-in fa-lg white-text mr-md-5 mr-3 fa-2x"})}),Object(j.jsx)("a",{href:"https://www.instagram.com/westernusc",className:"ins-ic",children:Object(j.jsx)("i",{className:"fab fa-instagram fa-lg white-text mr-md-5 mr-3 fa-2x"})})]})})]})}),Object(j.jsx)("div",{className:"footer-copyright text-center py-3",children:Object(j.jsxs)(Ge.d,{fluid:!0,children:["\xa9 ",(new Date).getFullYear()," Copyright:"," ",Object(j.jsx)("a",{href:"https://westernusc.ca/",children:" westernusc.ca "})]})})]})},Je=(n(118),n(119),function(e){return Object(j.jsx)("header",{className:"main-header",children:e.children})}),Ye=(n(120),function(e){var t=Object(r.useContext)(me);return Object(j.jsxs)("ul",{className:"nav-links",children:[!t.isLoggedIn&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(se.c,{to:"/search",children:"SEARCH"})}),Object(j.jsx)("li",{children:Object(j.jsx)(se.c,{to:"/auth",children:"SIGN IN"})})]}),t.isLoggedIn&&"60a5430a404e9f49781467ef"===t.userId&&Object(j.jsx)("li",{children:Object(j.jsx)(se.c,{to:"/users",children:"USERS"})}),t.isLoggedIn&&Object(j.jsx)("li",{children:Object(j.jsx)(se.c,{to:"/events",children:"EVENTS"})}),t.isLoggedIn&&Object(j.jsx)("li",{children:Object(j.jsx)(se.c,{to:"/events/new",children:"ADD EVENT"})}),t.isLoggedIn&&Object(j.jsx)("li",{children:Object(j.jsx)(ie,{inverse:!0,onClick:t.logout,children:"SIGN OUT"})})]})}),Xe=n.p+"static/media/usc_logo.2c965e25.png",Ke=function(e){return Object(j.jsxs)(Je,{children:[Object(j.jsx)(se.b,{to:"/",children:Object(j.jsx)("img",{className:"main-navigation__title",alt:"usc-logo",style:{height:90,padding:10,paddingLeft:40},src:Xe})}),Object(j.jsx)("nav",{className:"main-navigation__header-nav",style:{paddingRight:40},children:Object(j.jsx)(Ye,{})})]})};var Qe=function(){var e,t={background:"#c7b0e8"},n={background:"#e7c7b0"},c={background:"#b0e7c7"},a=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),l=Object(d.a)(a,2),s=l[0],i=l[1],o=Object(r.useState)(!1),u=Object(d.a)(o,2),j=u[0],b=u[1],h=Object(r.useCallback)((function(e,t,n){c(t),b(e);var r=n||new Date((new Date).getTime()+36e5);i(r),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:r.toISOString()}))}),[]),m=Object(r.useCallback)((function(){c(null),i(null),b(null),localStorage.removeItem("userData")}),[]);return Object(r.useEffect)((function(){if(n&&s){var e=s.getTime()-(new Date).getTime();ae=setTimeout(m,e)}else clearTimeout(ae)}),[n,m,s]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&h(e.userId,e.token,new Date(e.expiration))}),[h]),{token:n,login:h,logout:m,userId:j}}(),l=a.token,s=a.login,i=a.logout,o=a.userId;return e=l?Object(j.jsxs)(we.d,{children:[Object(j.jsxs)(we.b,{path:"/",exact:!0,children:[Object(j.jsx)("h1",{style:{fontWeight:"bold"},className:"title",children:"USC Timeline"}),Object(j.jsx)(be,{}),Object(j.jsx)(de,{schoolIconStyles:t,cultureIconStyles:n,statsIconStyles:c}),Object(j.jsx)(We,{})]}),Object(j.jsx)(we.b,{path:"/users",exact:!0,children:Object(j.jsx)(Me,{})}),Object(j.jsx)(we.b,{path:"/users/new",exact:!0,children:Object(j.jsx)(He,{})}),Object(j.jsxs)(we.b,{path:"/events",exact:!0,children:[Object(j.jsx)(xe,{}),Object(j.jsx)(We,{})]}),Object(j.jsxs)(we.b,{path:"/events/new",exact:!0,children:[Object(j.jsx)(Be,{}),Object(j.jsx)(We,{})]}),Object(j.jsxs)(we.b,{path:"/events/:eventId",children:[Object(j.jsx)(Fe,{}),Object(j.jsx)(We,{})]}),Object(j.jsx)(we.a,{to:"/events"})]}):Object(j.jsxs)(we.d,{children:[Object(j.jsxs)(we.b,{path:"/",exact:!0,children:[Object(j.jsx)("h1",{style:{fontWeight:"bold"},className:"title",children:"USC Timeline"}),Object(j.jsx)(be,{}),Object(j.jsx)(de,{schoolIconStyles:t,cultureIconStyles:n,statsIconStyles:c}),Object(j.jsx)(We,{})]}),Object(j.jsxs)(we.b,{path:"/search",children:[Object(j.jsx)(ye,{}),Object(j.jsx)(We,{})]}),Object(j.jsx)(we.b,{path:"/auth",children:Object(j.jsx)(_e,{})}),Object(j.jsx)(we.a,{to:"/"})]}),Object(j.jsx)("div",{children:Object(j.jsx)(me.Provider,{value:{isLoggedIn:!!l,token:l,userId:o,login:s,logout:i},children:Object(j.jsxs)(se.a,{children:[Object(j.jsx)(Ke,{}),Object(j.jsx)("main",{children:e})]})})})},$e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),c(e),r(e),a(e),l(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Qe,{})}),document.getElementById("root")),$e()},43:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},66:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},96:function(e,t,n){}},[[121,1,2]]]);
//# sourceMappingURL=main.7df208a0.chunk.js.map